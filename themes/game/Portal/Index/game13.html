<!--米白永久QQ：2054970171-->
<!--米白微信：kadiym    或    fcxcx688-->
<html>
 <head> 
  <meta charset="utf-8" /> 
  <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" /> 
  <meta name="format-detection" content="telephone=no" /> 
  <meta name="msapplication-tap-highlight" content="no" /> 
  <title>12人炸金花房间{$room.roomid}</title>
<?php echo base64_decode('PGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iaHR0cDovL3FxODc5MDc2Ni5jZG4uYmNlYm9zLmNvbS91dS9qaDEyLmNzcyIgLz4NCiAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iaHR0cDovL3FxODc5MDc2Ni5jZG4uYmNlYm9zLmNvbS91dS81Mi5jc3MiPg0KICA8bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSJodHRwOi8vcXE4NzkwNzY2LmNkbi5iY2Vib3MuY29tL3V1LzUwLmNzcyI+DQogIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9Imh0dHA6Ly9xcTg3OTA3NjYuY2RuLmJjZWJvcy5jb20vYXBwL2Nzcy9hbGVydC0xLjEuY3NzIj4NCiAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iaHR0cDovL3FxODc5MDc2Ni5jZG4uYmNlYm9zLmNvbS9hcHAvY3NzL3pqaC5jc3MiPiANCiAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIvYXBwL2Nzcy9wcHAuY3NzIj4='); ?></script>
   <php>
       $zhuti_list = ['xx'  => 'xx.png', 'tt' => 'tt.png','yf'  => 'yf.png', 'xd' => 'xd.png', 'hl'  => 'hl.png', 'dd' => 'dd.png', 'lele' => 'lele.png' ,'ht'  => 'ht.png', 'uu' => 'yy.png', 'kk' => 'kk.png', 'ym' => 'tt1.png', 'rr' => 'rr.png', 'xdd' => 'xdd.png', 'lt' => 'lt.png' ];
</php>
  <style>
  .mainPart{
    position: relative;
    height: auto;
  }
  .alert .mainPart .id{
    position: relative;
  }
.alert .mainPart .alertText{
  position: relative;
}

.alert .mainPart{
  height: auto;
}
.message .textPart{
   overflow-y: auto !important;
  }
.member1 .avatar div{
      line-height: 52px !important;
}
 .lishijilu{
         position: relative;background:url(http://goss.fexteam.com/files/images/common/alert3.png) 0% 0% / 100% 100% no-repeat;width: 82%;margin-left: 3.5vh;color: black;/* margin: auto; */margin-top: 2vh;height: 9vh;line-height: 4vh;font-size: 15px;border-radius: 6px;padding-left: 10px;padding-top: 1vh;
    }
}
}
@media screen and (max-width: 320px) {
    .lishijilu{
         position: relative;background: #a2befc;width: 82%;margin-left: 3.5vh;color: black;/* margin: auto; */margin-top: 2vh;height: 9vh;line-height: 4vh;font-size: 12px;border-radius: 6px;padding-left: 10px;padding-top: 1vh;
    }

}
         .tableLogo{
        position: absolute;
    width: 30vw;
    top: 40vh;
    left: 34vw;
}   
.kadunTop{
  width: 40px;
  height: 40px;
  position:fixed;
  z-index: 99;
  left: 5px;
  top:5px;
    }
.copyUrl{  
    position: fixed;
    bottom: 0.75vh;
    right: 60px;
    width: 80px;
    height: 29px;
    z-index: 999;
  }   
</style>
<style>
  <style type="text/css">.createRoom{position: fixed;width: 100%;height:100%;top:0;left:0;z-index: 109;}

.prompt{
    position: fixed;
    top: 0;
    left: 0;
    background: #f2463a;
    font-size: 1rem;
    border-radius: 4px;
    overflow: hidden;
    z-index:9999999999;
}
.prompt>span{
    padding: .1rem .3rem;
    display: inline-block;
    color: #fff;
}

.gold-tag a.active {
    color: #ecc200;
}

.gold-table {
    width: 100%;
}
.gold-table th,.gold-table td {
    color: #FFF;
    text-align: center;
    font-size: 12px;
    padding: 3px;
}
.gold-table th {
    color: #ecc200;
}

.gold-table td .btn1, .gold-table td .btn2 {
    display: inline-block;
    width: 30px;
    height: 20px;
    line-height: 20px;
    text-align: center;
}
.gold-table td .btn1 {
    background: url("/app/img/button1.png") no-repeat 0 0;
    background-size: 100% 100%;
}
.gold-table td .btn2 {
    background: url("/app/img/button2.png") no-repeat 0 0;
    background-size: 100% 100%;
}</style>
  <style>
  .mainPart{
    position: relative;
    height: auto;
  }
  .alert .mainPart .id{
    position: relative;
  }
.alert .mainPart .alertText{
  position: relative;
}

.alert .mainPart{
  height: auto;
}
.message .textPart{
   height: 40vh !important;
   overflow-y: auto !important;
  }
.member1 .avatar div{
      line-height: 52px !important;
}
 .lishijilu{
         position: relative;background:url(http://goss.fexteam.com/files/images/common/alert3.png) 0% 0% / 100% 100% no-repeat;width: 82%;margin-left: 3.5vh;color: black;/* margin: auto; */margin-top: 2vh;height: 9vh;line-height: 4vh;font-size: 15px;border-radius: 6px;padding-left: 10px;padding-top: 1vh;
    }
}
}
@media screen and (max-width: 320px) {
    .lishijilu{
         position: relative;background: #a2befc;width: 82%;margin-left: 3.5vh;color: black;/* margin: auto; */margin-top: 2vh;height: 9vh;line-height: 4vh;font-size: 12px;border-radius: 6px;padding-left: 10px;padding-top: 1vh;
    }

}

</style>

<script src="/app/js/homepage/jq.js" type="text/javascript"></script> 
<script src="http://uu.235j.cn/uu/jweixin-1.2.0.js" type="text/javascript"></script>
 <script src="/app/js/clipboard.min.js"type="text/javascript"></script> 
   <script src="https://res.wx.qq.com/open/js/jweixin-1.2.0.js" type="text/javascript"></script>
<script type="text/javascript">

var is_watch = false;
var glboldataxx=[];
// var mb;

var is_watch = false;
var glboldataxx=[];
// var mb;

function opnemm(html,id,clear){
  if(clear && glboldataxx[id+html]) {
        glboldataxx[id+html] = false;
  }
  if(!glboldataxx[id+html]){
    $.get('/portal/index/'+html+'/room/'+room,function(data){
      //mb=html;
      glboldataxx[id+html]=data;
      $('#'+id).html(data);
      $('#'+id).show();
    })
  }
  else{
    if(id!='message'){
      $('#'+id).html(glboldataxx[id+html]);
    }
    $('#'+id).show();
  }
}


function selectChange(type,id,index){
  glboldataxx[mb][type]=index;
  $('.'+type).find('img').hide();
  $('#'+id).find('img').show();
}

function selectChanges(type,id,index){
  glboldataxx[mb][type]=index;
  if($('#'+id).children('img').css('display') == 'block'){
     $('#'+id).children('img').hide();
  }else{
    $('#'+id).children('img').show();
  }
}
function zhengzkf(){
  alert('敬请期待');
}
function cancelCreate(){
  $('#room').hide();
}

// 选择房间
function selectBankerMode(index,id){
  glboldataxx[mb][index]=index;
  $(".bankerUnSelected").find('img').attr('src','/app/img/banker_unselected.png')
  $('.selectPart').eq(2).hide();
  $('.selectPart').eq(6).hide();
  $('.selectPart').eq(1).show();

  if(index == 1){
    $('#'+id).find('img').attr('src','/app/img/banker_selected.png')
  }
  if(index == 2){
    $('#'+id).find('img').attr('src','/app/img/banker_selected.png')
    $('.selectPart').eq(6).show();
  }
  if(index == 3){
    $('#'+id).find('img').attr('src','/app/img/banker_selected.png')
  }
  if(index == 4){
    $('#'+id).find('img').attr('src','/app/img/banker_selected.png')
  }
  if(index == 5){
    $('#'+id).find('img').attr('src','/app/img/banker_selected.png')
    $('.selectPart').eq(2).show();
    $('.selectPart').eq(1).hide();
  }
}
function shoujibd(){
  $('#validePhone').show();
}
function alertgl(){
  console.log("valert show show ");
  $('#valert').show();
}
function alertqx(){
  console.log("valert hide hide ");
  $('#valert').hide();
}
//功能管理  页面
function guanlign(){
  window.location.href='../gongnsm.html';
}
//个人中心    积分   
(function(){

  $('.daoluan').on('click',function(){
      $('.gameListItem').css('z-index','99');
      $(this).siblings().css('z-index','9999');
  })

  $('.phoneMask').on('click',function(){
    $('#validePhone').hide();
  })

})();

// 红包旋转功能
  function xuanzhuan(){
    
      $('.btnOpen').find('img').addClass('transf')
  
      setTimeout(function() {
        
      $('#ropen').show();

      }, 1000);
  }
// 公共弹框
function public(data){
  $('#'+data).hide();
}
// 快捷语音
function sendmsg(msg,id) {
   send('sendmsg',{msg:msg,id:id});
   $('#message').hide();
}
    var ji;
function djs(sj){
   clearTimeout(ji);
   var now=sj-Math.ceil(new Date()/1000)-(0-timewc)-1;
   if(now>0){
    // if(now<=3){
    //   mp3play('mp3daojishi');
    // }
    ji=setTimeout('djs('+sj+')',1000);
    $('.clock').show();
      $('#divRobBankerText').show();
    $('#djs').text(now);
   }
   else{
    cleardjs();
   }
}
function cleardjs(){
  clearTimeout(ji);
  $('.clock').hide()
  $('#divRobBankerText').hide();
  $('.gongg').hide();


  $(".avatar").each(function () {
    $(this).find("img").eq(1).hide();
    $(this).find("div").eq(0).hide();
  });

}

</script>
  <script type="text/javascript">var base64EncodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",base64DecodeChars=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);function base64encode(str){var out,i,len,c1,c2,c3;for(len=str.length,i=0,out="";i<len;){if(c1=255&str.charCodeAt(i++),i==len){out+=base64EncodeChars.charAt(c1>>2),out+=base64EncodeChars.charAt((3&c1)<<4),out+="==";break}if(c2=str.charCodeAt(i++),i==len){out+=base64EncodeChars.charAt(c1>>2),out+=base64EncodeChars.charAt((3&c1)<<4|(240&c2)>>4),out+=base64EncodeChars.charAt((15&c2)<<2),out+="=";break}c3=str.charCodeAt(i++),out+=base64EncodeChars.charAt(c1>>2),out+=base64EncodeChars.charAt((3&c1)<<4|(240&c2)>>4),out+=base64EncodeChars.charAt((15&c2)<<2|(192&c3)>>6),out+=base64EncodeChars.charAt(63&c3)}return out}function base64decode(str){var c1,c2,c3,c4,i,len,out;for(len=str.length,i=0,out="";i<len;){for(;c1=base64DecodeChars[255&str.charCodeAt(i++)],i<len&&-1==c1;);if(-1==c1)break;for(;c2=base64DecodeChars[255&str.charCodeAt(i++)],i<len&&-1==c2;);if(-1==c2)break;out+=String.fromCharCode(c1<<2|(48&c2)>>4);do{if(61==(c3=255&str.charCodeAt(i++)))return out;c3=base64DecodeChars[c3]}while(i<len&&-1==c3);if(-1==c3)break;out+=String.fromCharCode((15&c2)<<4|(60&c3)>>2);do{if(61==(c4=255&str.charCodeAt(i++)))return out;c4=base64DecodeChars[c4]}while(i<len&&-1==c4);if(-1==c4)break;out+=String.fromCharCode((3&c3)<<6|c4)}return out}function utf16to8(str){var out,i,len,c;for(out="",len=str.length,i=0;i<len;i++)1<=(c=str.charCodeAt(i))&&c<=127?out+=str.charAt(i):(2047<c?(out+=String.fromCharCode(224|c>>12&15),out+=String.fromCharCode(128|c>>6&63)):out+=String.fromCharCode(192|c>>6&31),out+=String.fromCharCode(128|c>>0&63));return out}function utf8to16(str){var out,i,len,c,char2,char3;for(out="",len=str.length,i=0;i<len;)switch((c=str.charCodeAt(i++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:out+=str.charAt(i-1);break;case 12:case 13:char2=str.charCodeAt(i++),out+=String.fromCharCode((31&c)<<6|63&char2);break;case 14:char2=str.charCodeAt(i++),char3=str.charCodeAt(i++),out+=String.fromCharCode((15&c)<<12|(63&char2)<<6|(63&char3)<<0)}return out}function CharToHex(str){var out,i,len,h;for(out="",len=str.length,i=0;i<len;)(h=str.charCodeAt(i++).toString(16)).length<2&&(h="0"+h),out+="\\x"+h+" ",0<i&&i%8==0&&(out+="\r\n");return out}function decode64(src){return utf8to16(base64decode(src))}</script>
  <script type="text/javascript">var cs=10,hosturl=window.location.hostname,websocket,token,room,index=0,allindex=[],timewc=0,bgmp3open,mp3open,overzt=1;bgmp3open=localStorage.bgmp3open?localStorage.bgmp3open:1,mp3open=localStorage.mp3open?localStorage.mp3open:1;var isinitok=0;function initok(){isinitok=1}function connect(n,iswatch){if(0==overzt)return load("hide"),!1;websocket&&websocket.close(),0<cs?(cs-=1,(websocket=new WebSocket("ws://"+hosturl+":"+n)).onmessage=function(event){cs=10,zdata=JSON.parse(event.data),console.log(zdata),window[zdata.act](zdata.msg)},websocket.onopen=function(e){load("hide"),token||(token=localStorage.token),send("init",{token:token,room:room})},websocket.onclose=function(e){if((isinitok=0)==overzt)return!1;load("show"),websocket.close(),cs-=1,connect(n)}):(load("hide"),setTimeout("$('body').hide()",3e3))}function gologin(){location.href="/"}function gxtoken(data){localStorage.token=data}function load(s){"show"==s&&$("body").append('<div class="load"><img src=data:image/gif;base64,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 /></div>'),"hide"==s&&$(".load").remove(),maik(s)}function maik(s){var html='<div class="maik" style=\'height:'+$(window).height()+"px;width:"+$(window).width()+"px;' onclick=\"Center($('.noticewi'), 'hide')\"></div>";"show"==s&&$(".maik").length<=0&&$("body").append(html),"hide"==s&&$(".maik").remove()}function Request(m){var sValue=location.search.match(new RegExp("[?&]"+m+"=([^&]*)(&?)","i"));return sValue?sValue[1]:sValue}function prompt(txt){var html='<div class="prompt"><span>'+txt+"</span></div>",Bw=$(window).width(),Bh=$(window).height();$("body").append(html);var Pw=$(".prompt").width(),Ph=$(".prompt").height();$(".prompt").css({top:Bh/2-Ph/2,left:Bw/2-Pw/2}),setTimeout(function(){$(".prompt").remove()},2e3)}function login(data){localStorage.userid=data.uid,localStorage.salt=data.salt}function loginout(msg){msg&&(prompt(msg),setTimeout("$('body').hide()",3e3)),localStorage.token="",websocket.close()}function send(act,data){if(1!=isinitok&&"init"!=act)return setTimeout(function(){send(act,data)},50);data||(data={});var fs=data;fs.act=act,fs.host=window.location.host;var jsonStr=JSON.stringify(fs);if(void 0===websocket)return prompt("与服务器端口链接，请刷新重试"),!1;websocket.send(jsonStr)}function Title(title){document.title=title}function attr(data){$("#"+data.id).attr(data.wz,data.nr)}function html(data){"nickname"==data.id&&(data.html=data.html),console.log(data),$("#"+data.id).html(data.html)}function addid(data){$("#"+data.id).addClass(data.html),console.log("addid:"+$("#"+data.id).attr("class"))}function removeid(data){$("#"+data.id).removeClass(data.html),console.log("removeid:"+$("#"+data.id).attr("class"))}function value(data){$("#"+data.id).val(data.html)}function value2(data){$(""+data.id).val(""+data.html)}function append(data){$("#"+data.id).append(data.html)}function jsdata(data){eval(data)}function active(data){$("#"+data.id).addClass(data.html).siblings().removeClass(data.html)}function showid(data){$("#"+data.id).show()}function hideid(data){$("#"+data.id).hide()}function goroom(data){location.href="/room/"+data.room}function gxindex(data){index=data}function watchindex(data){var indexTest=(allindex=data).length<=0?0:allindex[0]}function timewcgx(data){timewc=Math.ceil(new Date/1e3)-data,setTimeout('send("timegx",{})',5e3)}function timeyc(data){send("timeyc",{time:data})}function ycxx(data){$("#user"+data.id+" .zmmyctime").html(data.time)}function WeChat(url,title,img,desc){$.get("/index.php/portal/index/getconfig/",{url:window.location.href},function(data){wx.config(data),wx.ready(function(){wx.onMenuShareTimeline({title:title,link:url,imgUrl:img,success:function(){},cancel:function(){}}),wx.onMenuShareAppMessage({title:title,desc:desc,link:url,imgUrl:img,type:"",dataUrl:"",success:function(){},cancel:function(){}}),wx.error(function(res){})})},"json")}var keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function encode64(input){input=strUnicode2Ansi(input);for(var chr1,chr2,enc1,enc2,enc3,output="",chr3="",enc4="",i=0;enc1=(chr1=input.charCodeAt(i++))>>2,enc2=(3&chr1)<<4|(chr2=input.charCodeAt(i++))>>4,enc3=(15&chr2)<<2|(chr3=input.charCodeAt(i++))>>6,enc4=63&chr3,isNaN(chr2)?enc3=enc4=64:isNaN(chr3)&&(enc4=64),output=output+keyStr.charAt(enc1)+keyStr.charAt(enc2)+keyStr.charAt(enc3)+keyStr.charAt(enc4),chr1=chr2=chr3="",enc1=enc2=enc3=enc4="",i<input.length;);return output}</script>
 <script type="text/javascript">

  function adduser(data){
        if(1!=isinitok)return setTimeout(function(){adduser(data)},50);

        if(typeof(data.user.id) == undefined || data.user.id == null || data.user.id == "" || data.user.id == "null"){
            return;
        }

        if($("#user" + data.user.id).length>0){
            $("#user" + data.user.id).remove();
        }

        var indexuser=data.user.index-index- -1;
        if(indexuser<=0){
            indexuser=indexuser-(-12);
        }
        console.log(index + " -- " + indexuser);
        if($('#user'+data.user.id+' .quitBack').length>0){
            $('#user'+data.user.id+' .quitBack').hide();

            if(data.user.is_watch){
                $("#user" + data.user.id + " .watchingText").show();
            } else {
                $("#user" + data.user.id + " .watchingText").hide();
            }
        }
        else{
            if("-1"==data.user.online)var onlinezt="display:block";else onlinezt="display:none";if(1==indexuser || is_watch)var actxx="onclick=\"send('zhunbei',{})\"";else actxx='style="display:none"';console.log(data.user);var html='<div class="member member'+indexuser+'" id="user'+data.user.id+'">';html+='<img src="/app/img/player.png" class="background" /> ',html+='<img src="/app/img/playerWin.png" class="background" style="display: none;" /> ',html+='<div class="title">'+data.user.nickname+"</div> ",html+='<div class="avatar">',html+='<img src="'+data.user.img+'" style="position: absolute; left: 25%; width: 100%; border-radius: 3px;" /> ',html+='<img src="/app/img/avatar_timer.jpg" style="position: absolute; left: 25%; width: 100%; border-radius: 3px; display: none;" /> ',html+='<div style="position: absolute; top: 0px; left: 25%; width: 100%; line-height: 42px; text-align: center; color: rgb(96, 38, 3); font-size: 20px; display: none;"> 0</div>',html+='</div> <div class="score">'+data.user.dqjf+"</div>",html+='<div class="quitBack" style="'+onlinezt+'"></div>',html+='<div class="isReady">',html+='<div class="unready" '+actxx+' style="display: none;">',html+='<img src="http://lelefile3.zhenglvyou.com/files/images/common/ready_button.png" style="width: 93%;" />',html+='<div class="innerText" style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;line-height: 9vw;font-size: 4.5vw;text-align: center;color:#fff;font-weight: bold;"></div>',html+="</div>",html+='<img src="/app/img/ready.png" class="ready" style="display: none;" />',html+="</div>",1!=indexuser&&(html+='<div class="cardOver cardOver'+indexuser+'" style="display: none;">',html+='<img src="/app/img/cardBox.png" class="cardResult" />',html+='<div class="name">'+data.user.nickname+"</div> ",html+='<div class="openCard">',html+='<div class="cards card0">',html+='<div class="face front"></div> ',html+='  <div class="face back cardundefined"></div>',html+=" </div>",html+=' <div class="cards card1">',html+='  <div class="face front"></div> ',html+='  <div class="face back cardundefined"></div>',html+=" </div> ",html+=' <div class="cards card2">',html+='  <div class="face front"></div> ',html+='  <div class="face back cardundefined"></div>',html+=" </div> ",html+="</div>",html+='<div class="winText" style="display: none;">',html+=' <div class="winType winType0"></div> ',html+=' <div class="winScore winType0">',html+="  +</div></div></div>"),html+='<div class="PKbox" style="display: none;">',html+='<div class="PKboxBack"></div>',html+="</div>",html+='<img class="watchingText" src="http://33uuK.helphand.cn/gz/guanzz.png" style="position: absolute; z-index: 999999999; left: 12%; width: 80%; margin-top: 20%; display: none;"></div>',$("#member").append(html);


            1==data.user.zt&&0==data.zt?$(".member"+indexuser+" .ready").show():0==data.user.zt&&0==data.zt&&1==indexuser&&$(".member"+indexuser+" .unready").show(),1==data.user.tpzt&&havelook(data.user),2==data.user.zt&&havelose(data.user),3==data.user.zt&&havequit(data.user);



            if(data.user.is_watch){
                $("#user" + data.user.id + " .watchingText").show();
            }
            
            if(indexuser == 1 && is_watch){
              $("#user" + data.user.id + " .unready").hide();


              $("#user" + data.user.id + " .winType").css("top", "-10px");
              $("#user" + data.user.id + " .winType").css("left", "30px");

              $("#user" + data.user.id + " .winScore").css("top", "-20px");
            }

            if(data.user.zt == 1){
              $("#user" + data.user.id + " .isReady").show();
              $("#user" + data.user.id + " .unready").hide();
              $("#user" + data.user.id + " .ready").show();
            }

        }
    }
    

  
  function zbuser(data){var indexuser=data-index- -1;indexuser<=0&&(indexuser-=-12),$(".member"+indexuser+" .unready").hide(),$(".member"+indexuser+" .ready").show()}function resetgame(){$("#member .member").remove(),$("#userfp").empty(),$("#memberRobText").empty(),$("#memberFreeRobText").empty()}function removeuser(data){$("#user"+data+" .quitBack").show(),$("#user"+data+" .ready").hide()}function removeuser2(data){$("#user"+data).remove()}function userdjs(data){clearTimeout(ji);var now=data.time-Math.ceil(new Date/1e3)-(0-timewc)-1;if(0<now){var indexuser=data.index-index- -1;indexuser<=0&&(indexuser-=-12),$(".member"+indexuser+" .avatar img").eq(1).show(),$(".member"+indexuser+" .avatar div").html(now),$(".member"+indexuser+" .avatar div").show(),ji=setTimeout("userdjs("+JSON.stringify(data)+")",1e3)}else clearuserdjs()}function clearuserdjs(){clearTimeout(ji),$(".avatar").each(function(){$(this).find("img").eq(1).hide()}),$(".avatar div").hide()}function allfapai(data){$(".ready").hide(),$(".isReady").hide();for(var i=0;i<data.user.length;i++){var user=data.user[i],indexuser=user.index-index- -1,html="";for(indexuser<=0&&(indexuser-=-12),j=1;j<4;j++)html=data.card?6<=indexuser?html+'<div class="card cardall card'+indexuser+j+" card"+data.card[user.id][j-1].card+" zhajinhua-index"+(4-j)+'"  style="display:none" ></div>':html+'<div class="card cardall card'+indexuser+j+" card"+data.card[user.id][j-1].card+" zhajinhua-index"+j+'"  style="display:none" ></div>':html+'<div class="card card'+indexuser+j+"  zhajinhua-index"+j+'"  style="display:none" ></div>';$("#userfp").append(html)}setTimeout(function(){$("#userfp .zhajinhua-index1").show()},1e3),setTimeout(function(){$("#userfp .zhajinhua-index2").show()},800),setTimeout(function(){$("#userfp .zhajinhua-index3").show()},600),setTimeout(function(){$(".place").show(),$(".scoresArea").show(),$(".myCards").show()},1e3)}
  function havelook(data){var indexuser=data.index-index- -1;indexuser<=0&&(indexuser-=-12);var html='<div class="isSeen isSeen'+indexuser+'" style="z-index: 100;"></div> ';$("#userfp").append(html)}function havelose(data){var indexuser=data.index-index- -1;if(indexuser<=0&&(indexuser-=-12),1==indexuser){hidebook(),$("#member .member1 .quitBack").show(),$(".myCards .isLose").show(),$(".myQuitBack").show();for(var i=0;i<3;i++)$(".cardDeal .card1"+(i- -1)).hide(),$(".myCards .card"+i).show()}else{var html='<div class="isLose isLose'+indexuser+'" style="z-index: 100;" ></div> ';$("#userfp").append(html)}}function havequit(data){var indexuser=data.index-index- -1;if(indexuser<=0&&(indexuser-=-12),1==indexuser){hidebook(),$("#member .member1 .quitBack").show(),$(".myCards .isQuit").show(),$(".myQuitBack").show();for(var i=0;i<3;i++)$(".cardDeal .card1"+(i- -1)).hide(),$(".myCards .card"+i).show()}else{var html='<div class="isQuit isQuit'+indexuser+'"  style="z-index: 100;"></div> ';$("#userfp").append(html)}}function bipai(data){if($("#Buttons").hide(),1<data.user.length){$(".pkBackground").show();for(var i=0;i<data.user.length;i++){var user=data.user[i],indexuser=user.index-index- -1;indexuser<=0&&(indexuser-=-12),$(" #member .member"+indexuser+" .PKbox").show(),$(" #member .member"+indexuser+" .PKbox").attr("onclick","send('bipai',{uid:"+user.id+",time:"+data.time+"})")}}else send("bipai",{uid:data.user[0].id,time:data.time})}function qxbp(){$(" #member .PKbox").attr("onclick",""),$("#Buttons").show(),$(".pkBackground").hide(),$(".PKbox").hide(),$(".playerPK").hide()}function startPk(data){mp3play("shandian"),$(".playerPK .pkLoser").hide(),$(".playerPK .pk1 .title").html(data.user[0].nickname),$(".playerPK .pk1 .avatar").attr("src",data.user[0].img),$(".playerPK .pk1 .score").html(data.user[0].dqjf),$(".playerPK .pk2 .title").html(data.user[1].nickname),$(".playerPK .pk2 .avatar").attr("src",data.user[1].img),$(".playerPK .pk2 .score").html(data.user[1].dqjf),$(".playerPK").show(),setTimeout(function(){data.user[0].index==data.lose?$(".playerPK .pk1 .pkLoser").show():$(".playerPK .pk2 .pkLoser").show(),havelose({index:data.lose})},1e3)}function fapai(data){for(var i=0;i<data.card.length;i++){var card=data.card[i];$(".myCards .card"+i+"  .back").removeClass("cardundefined").addClass("card"+card.card),showmycard(i),0<i&&function(i){var left=$(".myCards .card"+i).css("left");$(".myCards .card"+i).animate({left:0},function(){$(".myCards .card"+i).animate({left:left})})}(i)}}function otherpai(data){var indexuser=data.index-index- -1;indexuser<=0&&(indexuser-=-12),$(".cardOver"+indexuser).show(),$("#member .member"+indexuser+" .openCard").show(),console.log(data.card);for(var i=0;i<data.card.length;i++){var card=data.card[i];$("#member .member"+indexuser+" .card"+i+"  .back").removeClass("cardundefined").addClass("card"+card.card),$("#member .member"+indexuser+" .card"+i).addClass("card-flipped"),0<i&&function(i){var left=$("#member .member"+indexuser+" .card"+i).css("left");$("#member .member"+indexuser+" .card"+i).animate({left:0},function(){$("#member .member"+indexuser+" .card"+i).animate({left:left})})}(i)}}
function showmycard(id){$(".cardDeal .card1"+(id- -1)).hide(),$(".myCards .card"+id).show(),$(".myCards .card"+id).addClass("card-flipped")}function showbook(){$("#looking").show(),$("#looking").attr("onclick",'send("looking",{})')}function hidebook(){$("#looking").hide(),$("#looking").attr("onclick","")}function scoresArea(data){var indexuser=data.index-index- -1;indexuser<=0&&(indexuser-=-12);var total=$(".totalScore .scores").html(),jf=$("#member .member"+indexuser+" .score").html();$("#member .member"+indexuser+" .score").html(jf-data.jf),$(".totalScore .scores").html(total-(0-data.jf)),$(".scoresArea").append("<div class='coin  coin"+indexuser+" coinType"+data.jf+" style='top:"+112*Math.random()+"px;left:"+112*Math.random()+"px;' ></div>"),$(".coin"+indexuser).animate({top:82*Math.random(),left:82*Math.random()},300),$(".coin").removeClass("coin"+indexuser)}function recm(data){for(var total=0,i=0;i<data.cm.length;i++)total-=0-data.cm[i],$(".scoresArea").append("<div class='coin  coinType"+data.cm[i]+"' style='top:"+112*Math.random()+"px;left:"+112*Math.random()+"px;' ></div>");$(".totalScore .scores").html(total)}
function shou(data){var indexuser=data.index-index- -1;indexuser<=0&&(indexuser-=-12);var total=$(".totalScore .scores").html(),jf=$("#member .member"+indexuser+" .score").html();$("#userfp").html(""),1==indexuser?($(".myCards .winText").show(),$(".winScore").html("+"+total),$(".winScore").show(),$("#member .member"+indexuser+" .background").eq(1).show()):($(".cardOver"+indexuser+" .cardResult").attr("src","/app/img/cardBoxWin.png"),$(".cardOver"+indexuser+" .winText").html('<div class="winType winType'+data.type+'"></div> <div class="winScore winType'+data.type+'">+'+total+"</div>"),$(".cardOver"+indexuser+" .winText").show()),$("#member .member"+indexuser+" .score").html(jf-(0-total)),$(".totalScore .scores").html(0);$(".scoresArea").children().animate({left:"50%",top:"50%"},500),$(".scoresArea").animate({top:["73","36","20","3","20","36"][indexuser-1]+"%",right:["0","-75","-75","0","0","0"][indexuser-1]+"%",left:["0","0","0","0","-75","-75"][indexuser-1]+"%"},1e3),setTimeout(function(){$(".scoresArea").empty()},800),1==indexuser?mp3play("winmp3"):mp3play("losemp3")}

  function operationButton(data){"8"==data&&($(".isReady").show(),$(".member1 .unready").show()),$("#operationButton").html(""),$("#operationButton").html("")}

  function initroom(){$(".scoresArea").empty(),$(".scoresArea").attr("style",""),$(".openCard").hide(),$(".cardOver").hide(),$("#CardType").html(""),$(".winText").hide(),$(".cardResult").attr("src","/app/img/cardBox.png"),$("#member .member").each(function(){$(this).find(".background").eq(1).hide()}),$("#member .member1 .quitBack").hide();var html='<div class="winText" style="display: none;">';html+='<img src="/app/img/winner.png" /> ',html+='<div class="winScore" style="width: 100%; left: 0px; text-align: center; font-size: 16px; display: none;">',html+="+</div></div> ",html+='<div class="cards card0" style="display: none;">',html+='<div class="face front"></div> ',html+='<div class="face back cardundefined"></div> ',html+='<div class="myQuitBack" style="display: none;"></div>',html+="</div> ",html+='<div class="cards card1" style="display: none;">',html+='<div class="face front"></div> ',html+='<div class="face back cardundefined"></div> ',html+='<div class="myQuitBack" style="display: none;"></div>',html+="</div> ",html+='<div class="cards card2" style="display: none;">',html+='<div class="face front"></div> ',html+='<div class="face back cardundefined"></div> ',html+='<div class="myQuitBack" style="display: none;"></div>',html+="</div> ",html+='<div style="width: 70px; height: 20px; position: absolute; top: 17px; left: 50%; margin-left: -40px; z-index: 95; text-align: center; color: rgb(255, 255, 255); font-size: 15px; padding: 1px 5px; display: none;" id="looking">',html+='<img src="/app/img/lookcard.png" style="width: 70px; height: 20px;" />',html+="</div> ",html+='<div class="isQuit isQuit1" style="display: none;"></div> ',html+='<div class="isLose isLose1" style="display: none;"></div>',html+='<div class="isLose isLose1" style="display: none;"></div>',$(".myCards").html(html);html="";html+='<div class="cards card0">',html+='<div class="face front"></div> ',html+='  <div class="face back cardundefined"></div>',html+=" </div>",html+=' <div class="cards card1">',html+='  <div class="face front"></div> ',html+='  <div class="face back cardundefined"></div>',html+=" </div> ",html+=' <div class="cards card2">',html+='  <div class="face front"></div> ',html+='  <div class="face back cardundefined"></div>',html+=" </div> ",$("#member .openCard").html(html),$(".myCards").hide(),$(".place").hide(),$(".scoresArea").hide(),$("#totalScore").html(0),$(".member1 .unready").show();

      if(is_watch){
        $(".isReady").hide();
      } else {
        $(".isReady").show()
      }
}


  function overroom(data){overzt=0,$("#table").hide();var c=document.getElementById("myCanvas"),ctx=c.getContext("2d"),img=new Image,img1=new Image;new Image;img.src="/xxx/jst/jsjh9.jpg",img1.src="/app/dyj.png";var sj=data;img.onload=function(){console.log(sj),ctx.drawImage(img,0,0,800,1297),ctx.drawImage(img1,142,305,58,64);var time1=sj.time.substring(0,sj.time.length-3);ctx.font="23px bold 微软雅黑",ctx.fillStyle="#ebd76e",ctx.fillText("房间号:"+sj.id,178,284),ctx.fillText(time1,361,284),ctx.fillText(sj.zjs+"局",580,284);

    var i = 0;
    for(var tempIndex=0;tempIndex<sj.user.length;tempIndex++){

      if(sj.user[tempIndex] == null || typeof(sj.user[tempIndex].id) == undefined || sj.user[tempIndex].id == null){
        continue;
      }

      1<i&&(ctx.fillStyle="#140f2d",ctx.fillRect(142,473-(0-81.2*(i-2)),519,76));var user=sj.user[tempIndex];ctx.font="31px bolder 微软雅黑",ctx.fillStyle="#d8cb66",ctx.fillText(user.nickname.substring(0,10),225,355+83*i),0<user.dqjf?user.dqjf="+"+user.dqjf:(ctx.fillStyle="#fff",ctx.fillText(user.nickname.substring(0,10),225,355+83*i),ctx.fillText(user.dqjf,540,356-(0-83*i))),ctx.fillText(user.dqjf,540,356-(0-83*i)); i++;}var dataURL=c.toDataURL();$("#overtime").html('<div onclick="location.href=\'/portal/user/index.html\'" style="z-index: 9999;position: absolute;width: 28%;height: 6%;bottom: 8%;right: 15%;" ></div><div style="background: #000;width: 100%;height: 100%;position: absolute;z-index: 200;""></div> <img src="'+dataURL+'" style="width: 100%;height:100%;position: absolute;z-index: 201;">'),$("#overtime").show()}}function msgshow(data){var indexuser=data.index-index- -1;indexuser<=0&&(indexuser-=-12);var html='<div class="messageSay messageSay'+indexuser+'" ><div>'+data.msg+'</div> <div class="triangle"></div></div>';$("#messageSay").append(html),mp3play(data.mp3),setTimeout(function(){console.log(indexuser),$(".messageSay"+indexuser).remove()},1500)}function updatescore(data){$("#user"+data.id+" .score").html(data.score)}function joingame(){1!=isinitok&&joinroom(),removejoinalert(),send("joingame")}function joinwatch(){1!=isinitok&&joinroom(),removejoinalert(),send("joinwatch")}function watch(){$("#watch-game").show(); is_watch = true;}function tojoin(){$("#watch-list").hide(),$("#watch-game").hide()}function watchlist(data){var html="";for(var k in data.data)html+='<div class="playerItem">\n                    <img src="'+data.data[k].img+'" class="playerAvatar" />\n                    <div class="playerName">'+data.data[k].nickname+'</div>\n                    <img src="/app/bscore/icon.png" class="playerIcon" />\n                </div>';$("#watch-list .playerList").html(html),1==data.is_start?($("#watch-list .joimwatch").hide(),$("#watch-list .joingame").hide()):1==data.is_watch?($("#watch-list .joimwatch").hide(),$("#watch-list .joingame").show()):0==data.is_watch&&($("#watch-list .joimwatch").show(),$("#watch-list .joingame").hide())}

    
// 从游戏中，切换为“观战中”
function removeuserByWatch(data) {
  $("#user" + data + " .watchingText").show();
  $("#user" + data + " .quitBack").hide();
  $("#user" + data + " .isReady").hide();
}

// 更新用户的信息
function userUpdate(data) {
  console.log(data);
  if(data.is_start == 0){
      $("#watch-list .joinwatch").show();
  } else {
      $("#watch-list .joinwatch").hide();
  }

  is_watch = data.is_watch;

  if(data.is_watch){ 
      $("#watch-list .joingame").show();
      $(".isReady").hide();
  }else{
      $("#watch-list .joingame").hide();
  }

}

    
 function lookmsg()
    {
     $("#nousermessage").hide();   
    $("#usermessage").show();
     
    } 
 
 function hidemsg()
    {
     //document.getElementById("button1").disabled=true; 
    $("#usermessage").hide();
    $("#nousermessage").show();  
    }
    
function pullhum() {
  $("#watch-list .joinwatch").hide(),
  $("#watch-list .joingame").hide(),
  $("#watch-list .joingamefalse").show()
} 
function pullwatchhum() {
  $("#watch-list .joinwatch").hide(),
  $("#watch-list .joingame").hide(),
  $("#watch-list .joinwatchfalse").show()
}     

</script>
  


  <script src="https://res.wx.qq.com/open/js/jweixin-1.2.0.js" type="text/javascript"></script>

  <script>

      function randomString(len) {
          len = len || 32;
          var $chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678';    /****默认去掉了容易混淆的字符oOLl,9gq,Vv,Uu,I1****/
          var maxPos = $chars.length;
          var pwd = '';
          for (i = 0; i < len; i++) {
              pwd += $chars.charAt(Math.floor(Math.random() * maxPos));
          }
          return pwd;
      }

  var url =window.location.href+'&skin={$user.password}';//用户要分享的网址
  var title  = '9人炸金花房间{$room.roomid}';//分享的标题
  var shareimg = 'http://'+window.location.hostname+'/app/img/bull10/v2/share-niuniuten.jpg';//分享的图片
  var shareimg = '';
  var desc = 'http://uubs.chinamaili.net/f/yf?i={$room.roomid}_';//分享的描述信息
  WeChat(url,title,shareimg,desc);
</script>

 </head> 
 <body> 
      <img id="watch-game" src="http://goss.fexteam.com/files/images/h5watch/watchText.png" style="display: none; position: fixed; z-index: 90; width: 40%; left: 30%; top: 55%;">
     <div id="watch-list" class="watch" style="display: none;">
         <div class="watchBack"></div>
         <div class="mainPart">
             <img src="http://goss.fexteam.com/files/images/h5watch/quit.png" class="watchCancel" onclick="public('watch-list')" />
             <img src="http://goss.fexteam.com/files/images/h5watch/title.png" class="watchTitle" />
             <div class="playerList">

             </div>
             <div class="buttonMiddle">
                 <img src="http://goss.fexteam.com/files/images/h5watch/watchTrue.png" class="watchTitle joinwatch" onclick="joinwatch()" style="display: none;" />
                 <img src="http://goss.fexteam.com/files/images/h5watch/watchFalse.png" class="watchTitle joinwatchfalse" onclick="" style="display: none;" />
                 <img src="http://goss.fexteam.com/files/images/h5watch/joinWatchTrue.png" class="watchTitle joingame" onclick="joingame()" style="display: none;"/>
                 <img src="http://goss.fexteam.com/files/images/h5watch/joinGameFalse.png" class="watchTitle joingamefalse" onclick="" style="display: none;"/>
             </div>
         </div>
     </div>
 
     <img src="/app/bg1.png" style="display: none">
    <img src="/app/dyj.png" style="display: none">

     <div id="overtime" style="display: none">
    <canvas id="myCanvas" width="800" height="1297" style="display: none"></canvas>
    </div>

     <php>
         $fangzhu=M('user')->find($room['uid']);
     </php>
     <script type="text/javascript">
         window.fangzhu = {
             "nickname" : "{$fangzhu.nickname}",
             "skinname" : "{$skin[$fangzhu['password']]}"
         };
     </script>
<if condition="$room['endtime'] gt 0">
   <php>
      $mapxx=array();
      //$mapxx['uid']=$user['id'];
      $mapxx['room']=$room['id'];

      if(M('user_room')->where($mapxx)->find()){
  </php>
    <script type="text/javascript">
        var data={};
        data.id={$room['roomid']};
        data.zjs={$room['zjs']};
        data.time='{$room['time']|date="Y-m-d H:i:s",###}';
        data.user={$room['overxx']};
        <php>
              $overxx=json_decode($room['overxx'],true);
              foreach($overxx as $key=>$value){

                if($value == null || $value[id] == null){
                  continue;
                }

                $nickname=base64_decode($value[nickname_base64]);
                echo 'data.user["'.$key.'"]["nickname"]="'.$nickname.'";';
              }

        </php>
        overroom(data);
    </script>

   <php>
     }
     else{
  </php>
  <script type="text/javascript">
    document.title = '温馨提示';
  </script>
  <div id="valert2" class="alert">
   <div class="alertBack" style="opacity: 1;"></div> 
   <div class="mainPart" style="height: 27%;margin-top: -113.39px;">
    <div class="backImg">
     <div class="blackImg" style="height: 82%;"></div>
    </div> 
    <div class="alertText" style="top: 45%;" id="tipmsg">房间已经关闭</div> 
     
     
   </div>
  </div>
  <php>
      }
      exit();
  </php>
</if>


<if condition="$fzuser['sfgl']  && (!$mayuser[$user['id']])">
    <script type="text/javascript">
    document.title = '温馨提示';
  </script>
<div id="valert2" class="alert">
   <div class="alertBack" style="opacity: 1;"></div> 
   <div class="mainPart" style="height: 27%;margin-top: -113.39px;">
    <div class="backImg">
     <div class="blackImg" style="height: 82%;"></div>
    </div> 
    <div class="alertText" style="top: 45%;" id="tipmsg">无法加入，请联系管理员。</div> 
     
     
   </div>
  </div>

  <php>
      exit();
  </php>
</if>

  <div class="roomCard">
   <img src="/xxx/img/fk.png" /> 
   <div class="num">
    <div style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; background: rgb(255, 255, 255); opacity: 0.2; border-radius: 10px;"></div> 
    <div style="position: relative; padding: 0px 10px 0px 35px;" id="fknum">
     {$user['security_code']? $user['security_code']:$user['id'] }
    </div>
   </div>
  </div> 
  <div class="round" id="jsxx">
     {$room.js}&nbsp;/&nbsp;{$room.zjs}局
  </div> 
<style>    
#room_str{position:fixed;top:-300px;}
.copyUrl{position: fixed;width:62px;height:22px;position:absolute;top:24px;right:12px;z-index:999;border: none;background: url(http://lelefile3.zhenglvyou.com/files/images/copy/copyicon.png);background-size: 100%;}
#copyUrl{ position:fixed;top:-300px;}
   .attention {
    position: fixed;
    z-index: 9997;
    width: 150px;
    height: 150px;
    top: 50%;
    left: 50%;
    margin-top: -75px;
    margin-left: -75px;
    border-radius: 5px;
    overflow: hidden;
}
.attention .attentionBackgroundB {
    filter: alpha(opacity=50);
    -moz-opacity: 0.5;
    opacity: 0.5;
    background: #000;
    height: 100%;
    width: 100%;
}
.attention img {
    position: absolute;
    top: 10px;
    left: 29px;
}
.attention .attentionTextB {
    position: absolute;
    top: 100px;
    width: 150px;
    text-align: center;
    font-size: 18px;
    color: #fff;
    filter: alpha(opacity=95);
    -moz-opacity: 0.95;
    opacity: 0.95;
}
    
</style>    
<textarea id="room_str" value=""> 12人金花{$room.roomid}号房间
进房链接：http://{$_SERVER['HTTP_HOST']}/yy/index/{$room.id}</textarea>
<textarea id="copyUrl" value=""></textarea>
<div class="attention" style="display: none;">
<div class="attentionBackgroundB"></div> 
<img src="http://goss.fexteam.com/files/images/center/alert1.png"> 
<div class="attentionTextB">复制成功</div>
</div>
<div class="copyUrl" data-clipboard-action="copy" data-clipboard-target="#copyUrl">  
</div>
    <div id= "btn" data-clipboard-text="1">
   </div> 
  <img src="/app/img/footer_bull.png" usemap="#planetmap" class="bottom" style="pointer-events: none;"/> 
  <img src="/app/img/icon_game_rule.png" class="bottomGameRule" style="z-index: 110;" onclick="opnemm('zjh_gz','vroomRule')"/> 
  <img src="/app/img/icon_sound61.png" class="bottomGameHistory" style="z-index: 110;"onclick="opnemm('fangjian_yinyue','vaudioRoom')" /> 
  <img src="http://qq8790766.cdn.bcebos.com/cdnn/app/img/icon_game_message.png" id='usermessage'  class="bottomGameMessage" onclick="opnemm('fangjian_nobanker_kj','message')"/>
   <img src="http://qq8790766.cdn.bcebos.com/cdnn/app/img/icon_game_message.png" id='nousermessage' style="display: none;"  class="bottomGameMessage" onclick="opnemm()"/>
  <img src="http://qq8790766.cdn.bcebos.com/cdnn/app/images/guanzhan/watchButton.png" class="bottomGameMessage" style="right: 70px;" onclick="showid({'id':'watch-list'})">

  <div id="messageSay">
</div>

<div class="playerPK" style="display: none;">
   <div class="pkBack"></div> 
   <div class="pk1" style="left: 0px;">
    <img src="/app/img/comLeft.png" style="position: absolute; top: 0px; left: 0px; width: 95%; height: 140px;" /> 
    <div class="pkPlayer">
     <img src="/app/img/player.png" class="background" style="display: none;" /> 
     <div class="title">
      --
     </div> 
     <img src="" class="avatar" /> 
     <div class="score">--
     </div> 
     <div class="quitBack" style="display: block;"></div>
    </div> 
    <img src="/app/img/comLoser.png" class="pkLoser" style="display: none;" />
   </div> 
   <div class="pk2" style="right: 0px;">
    <img src="/app/img/comRight.png" style="position: absolute; top: 0px; right: 0px; width: 95%; height: 140px;" /> 
    <div class="pkPlayer">
     <img src="/app/img/playerWin.png" class="background"  /> 
     <div class="title">
      　　　　　　
     </div> 
     <img src="" class="avatar" /> 
     <div class="score">
      --
     </div> 
     <div class="quitBack" style="display: none;"></div>
    </div> 
    <img src="/app/img/comLoser.png" class="pkLoser" style="display: none;" />
   </div> 
   <img src="/app/img/comE.gif" class="pkE" style="/* display: none; */" /> 
   <img src="/app/img/comV.png" class="pkV" style="/* display: none; */" /> 
   <img src="/app/img/comS.png" class="pkS" style="/* display: none; */" />
  </div>

  <div id="tishi" class="alert" style="display: none;"></div>   
  <div id="vaudioRoom" class="audioRoom" style="display: none;"></div> 
  <div id="vroomRule" class="createRoom" style="display: none;"></div>
  <div id='message' class="message" style="display: none;"></div> 

  <div class="myCardType" id="CardType">
   <div style="display: none;">
    高牌
   </div> 
  <!--  <div style="display: none;">
    对子
   </div> 
   <div style="display: none;">
    顺子
   </div> 
   <div style="display: none;">
    同花
   </div> 
   <div style="display: none;">
    同花顺
   </div> 
   <div style="display: none;">
    三条
   </div> -->
  </div> 



  <div id="table" class="table" style="width: 100%; height: 100%;">
 <img src="http://qq8790766.cdn.bcebos.com/cdnn/app/img/table91.jpg" class="tableBack" />
  <img src="/52/{:isset($zhuti_list[$user['password']])?$zhuti_list[$user['password']]:$zhuti_list['xx']}" class="tableBack"  style="width: 150px; height: 46px; position: fixed; top: 50%; left: 50%; margin-left: -75px; margin-top: -23px; opacity: 0.9;">

   <div class="place" style="display: none; width: 99.0566px; height: 99.0566px; top: 191.038px;left: 0;
    right: 0;
    margin: auto;">
    <div class="totalScore">
     <div class="scores" id="totalScore">
      0
     </div> 
     <img src="/app/img/totalScore.png" />
    </div> 
   </div> 

   <div class="scoresArea"  style="display: none;"></div>
   <div class="cardDeal" >
    <div id='userfp'>
      <!--  <div class="card card11" ></div> 
       <div class="card card12" style="display: none;"></div> 
       <div class="card card13" style="display: none;"></div> 
       <div class="isSeen isSeen1" style="display: none;"></div> 
       <div class="isQuit isQuit1" style="display: none;"></div> 
       <div class="isLose isLose1" style="display: none;"></div> -->

    </div>
     
   
    <div class="myCards" style="display: none;"></div>
   </div> 

  <div id="member">
  </div>

   <div class="clock" style="display: none;" id='djs'>
     0
   </div>


    <div class="myButton"  id="Buttons">
  </div>



   <div class="pkBackground" style="display: none;"  onclick="qxbp();">
    <div class="pkBackText">
     选择比牌对象
    </div>
   </div>
  </div> 
 
 <script>
     function showjoinalert() {
         $("#valert").show();
     }
     function removejoinalert() {
         $("#valert").remove();
     }
     function joinroom(){
         token='{$token}';
         room='{$room.id}';
         var dkxx='{$room.dk}';
         load('show');
         if(dkxx){
             connect(dkxx);
         }
         else{
             load('hide');
             prompt('服务器没开启,请稍后再试');
             setTimeout("$('body').hide()",3000);
         }
     }
</script>
<if condition="count($room['userlist']) egt 9 && $room['userlist'][$user['id']] neq 1">
<div id="valert2" class="alert">
   <div class="alertBack"></div> 
   <div class="mainPart" style="height: 31%;margin-top: -113.39px;">
    <div class="backImg">
     <div class="blackImg" style=" height: 59%;"></div>
    </div> 
    <div class="alertText" style="top: 35%;" id="tipmsg">该房间人数已满</div> 
     <div class="buttonRight" style="left: 31.5%;width: 17vh;height: 5.5vh;" onclick="location.href='/'">
     返回首页
    </div>
     
   </div>
  </div>

  <php>
      exit();
  </php>
</if>

 <php>
     $text = '房间中有';
     foreach($room['userlist'] as $key=>$one){
         if(!$indexxx)
         {
         $indexxx=1;
         }
         else{
         $text .= ',';
         }
         $text .= username($key);
     }
     $text .= ',是否加入？';
</php>
<div id="valert" class="alert" style="display: none;">
         <div class="alertBack"></div>
        <div style="position: absolute; right: 0.5vw; width: 20vw; height: 16.7vw; line-height: 8vw; color: white; text-align: center; font-size: 3.5vw;">
            <img src="http://qq8790766.cdn.bcebos.com/app/fw_icon.png" style="position: absolute;right: 38.5vw;top: 18vw;height: 17.5vw;width: 21vw; z-index: 99;">
     <if condition="$user.security_code eq '' ">
   <div style="position: absolute; top: 18vw; right: 39vw; width: 20vw;height: 18vw; line-height: 10vw;z-index: 999;font-size: 4.5vw;text-align: center;color:	#FFFFFF;font-weight: bold;">{$user['id']}</div>
<else />
       <div style="position: absolute; top: 18vw; right: 39vw; width: 20vw;height: 18vw; line-height: 10vw;z-index: 999;font-size: 5vw;text-align: center;color:#fff;font-weight: bold;">    {$user['security_code']?$user['security_code']:$user['id']}</div>
     </if> 
   <div style="position: absolute; top: 18vw; right: 39vw; width: 20vw;height: 18vw; line-height: 22.5vw;z-index: 999;font-size: 3.5vw;text-align: center;color:#EBEBEB;font-weight: bold;">防伪码</div></div>
            <div>
        </div>
         <div class="mainPart" style="height: <?php echo 244.73+count($room['px'])*2+ceil(strlen($text)/20)*20; ?>px; margin-top: -172.365px;">
             <div class="backImg">
                 <div class="blackImg" style="height: <?php echo 163.356+count($room['px'])*2+ceil(strlen($text)/20)*20; ?>px;"></div>
             </div>
             
             <div class="alertText" style="">
                 <div class="rull" style="font-size: 2.2vh;">
         <if condition="$room['df']">
       底分：
      <a>{$room['df']}</a> 
      <br /> 
      </if>
      
      <if condition="$room['bp']">
       比牌：
      <a>>={$room['bp']}分</a> 
      <br /> 
      </if>
   
      <if condition="$room['cm']">
      筹码： 
      <a>{$room['cm']}</a> 
      <br />
      </if> 

       
       
        <if condition="$room['gz2']">
        规则： 
      <a><foreach name="room['gz2']" item="one">{$one}</foreach></a> 
      <br />
      </if> 
      
上限：
      <if condition="$room['sx']">
       
      <a>{$room['sx']}</a> 
      <br />
      </if> 
            
       局数：
      <a>{$room['zjs']}局 </a> 

     </div> 
                 <?php if(!empty($room['userlist'])): ?>
                 <div style="margin-bottom: 9.5vh;
position: relative;">
                     <php>
                         echo $text;
                     </php>
                 </div>
                 <?php endif; ?>
             </div>

             <div class="button">
                 <div class="buttonLeft" onclick="joinwatch()">
                     <img src="http://goss.fexteam.com/files/images/h5watch/watchTrue.png">
                 </div>
                 <div class="buttonRight" onclick="joingame()">
                     <img src="http://goss.fexteam.com/files/images/h5watch/joinWatchTrue.png">
                 </div>
             </div>
         </div>
     </div>
<script>
  joinroom();
</script>
<audio onended="mp3playandpause('1miao');" id="1miao" src="/app/video/1miao.mp3"></audio>

<audio onended="mp3playandpause('message1');" id="message1" src="/app/message/message1.mp3"></audio>
<audio onended="mp3playandpause('message2');" id="message2" src="/app/message/message2.mp3"></audio>
<audio onended="mp3playandpause('message3');" id="message3" src="/app/message/message3.mp3"></audio>
<audio onended="mp3playandpause('message4');" id="message4" src="/app/message/message4.mp3"></audio>
<audio onended="mp3playandpause('message5');" id="message5" src="/app/message/message5.mp3"></audio>
<audio onended="mp3playandpause('message6');" id="message6" src="/app/message/message6.mp3"></audio>
<audio onended="mp3playandpause('message7');" id="message7" src="/app/message/message7.mp3"></audio>
<audio onended="mp3playandpause('message8');" id="message8" src="/app/message/message55.m4a"></audio>
<audio onended="mp3playandpause('message9');" id="message9" src="/app/message/message9.mp3"></audio>
<audio onended="mp3playandpause('message10');" id="message10" src="/app/message/message10.mp3"></audio>
<audio onended="mp3playandpause('message11');" id="message11" src="/app/message/message11.mp3"></audio>

<audio id="background" src="/app/video/back2.mp3" ></audio>

<audio onended="mp3playandpause('2fen');" id="2fen" src="/app/video/2f.m4a"></audio>
<audio onended="mp3playandpause('4fen');" id="4fen" src="/app/video/4f.m4a"></audio>
<audio onended="mp3playandpause('5fen');" id="5fen" src="/app/video/5f.m4a"></audio>
<audio onended="mp3playandpause('8fen');" id="8fen" src="/app/video/8f.m4a"></audio>
<audio onended="mp3playandpause('10fen');" id="10fen" src="/app/video/10f.m4a"></audio>
<audio onended="mp3playandpause('16fen');" id="16fen" src="/app/video/16f.m4a"></audio>
<audio onended="mp3playandpause('20fen');" id="20fen" src="/app/video/20f.m4a"></audio>
<audio onended="mp3playandpause('40fen');" id="40fen" src="/app/video/40f.m4a"></audio>
<audio onended="mp3playandpause('25fen');" id="25fen" src="/app/video/25f.m4a"></audio>
<audio onended="mp3playandpause('50fen');" id="50fen" src="/app/video/50f.m4a"></audio>


<audio onended="mp3playandpause('kaipai');" id="kaipai" src="/app/video/audio2.m4a"></audio>

<audio onended="mp3playandpause('fapai');" id="fapai" src="/app/video/audio1.m4a"></audio>

<audio onended="mp3playandpause('shandian');" id="shandian" src="/app/video/com.m4a"></audio>

<audio onended="mp3playandpause('lookmp3');" id="lookmp3" src="/app/video/audio3.m4a"></audio>
<audio onended="mp3playandpause('menpai');" id="menpai" src="/app/video/audio4.m4a"></audio>

<audio onended="mp3playandpause('qipaimp3');" id="qipaimp3" src="/app/video/audio5.m4a "></audio>
<audio onended="mp3playandpause('winmp3');" id="winmp3" src="/app/video/win.mp3"></audio>
<script>
function over(msg){
  var html='<div id="valert2" class="alert">';
  html=html+'<div class="alertBack"></div> '; 
  html=html+'<div class="mainPart" style="height: 31%;margin-top: -113.39px;">'; 
  html=html+'<div class="backImg">'; 
  html=html+'<div class="blackImg" style="height: 59%;"></div>'; 
  html=html+'</div> '; 
  html=html+'<div class="alertText" style="top: 35%;" id="tipmsg">'+msg+'</div>'; 
  html=html+'<div class="buttonRight" style="left: 31.5%;width: 17vh;height: 5.5vh;" onclick="location.href='/'">返回首页</div> </div></div>'; 
  $('body').html(html);
}
var overscroll = function(el) {
  el.addEventListener('touchstart', function() {
    var top = el.scrollTop
      , totalScroll = el.scrollHeight
      , currentScroll = top + el.offsetHeight;
    //If we're at the top or the bottom of the containers
    //scroll, push up or down one pixel.
    //
    //this prevents the scroll from "passing through" to
    //the body.
    if(top === 0) {
      el.scrollTop = 1;
    } else if(currentScroll === totalScroll) {
      el.scrollTop = top - 1;
    }
  });
  el.addEventListener('touchmove', function(evt) {
    //if the content is actually scrollable, i.e. the content is long enough
    //that scrolling can occur
    if(el.offsetHeight < el.scrollHeight)
      evt._isScroller = true;
  });
}
document.body.addEventListener('touchmove', function(evt) {
  //In this case, the default behavior is scrolling the body, which
  //would result in an overflow.  Since we don't want that, we preventDefault.
  if(!evt._isScroller) {
    evt.preventDefault();
  }
});

    

var context = new (window.AudioContext || window.webkitAudioContext)();
var source = [];
var audioBuffer = [];

    function mp3play(id){
      if(id == ""){
        return false;
      }
      if(id != "" && id!='background' &&　mp3open==2){
        return false;
      }
        //document.getElementById(id).play();
        if(!audioBuffer[id]){
           loadAudioFile(id);
        }
        if(source[id]){
          source[id].stop()
        }
        source[id] = context.createBufferSource();
        source[id].buffer = audioBuffer[id];
        if(id=='background'){
            source[id].loop = true;
        }
        else{
          source[id].loop = false;
        }
        source[id].connect(context.destination);
        source[id].start(0); //立即播放
    }
    function mp3pause(id){
        //document.getElementById(id).pause();
        if (source[id]) {
          source[id].stop(); //立即停止
        }
    }

    function mp3playandpause(id){
        mp3play(id);
        mp3pause(id);
    }


function initSound(arrayBuffer,id) {
    context.decodeAudioData(arrayBuffer, function(buffer) { //解码成功时的回调函数
        audioBuffer[id] = buffer;
    }, function(e) { //解码出错时的回调函数
        console.log('Error decoding file', e);
    });
}


function loadAudioFile(id) {
    var url=$('#'+id).attr('src');
    var xhr = new XMLHttpRequest(); //通过XHR下载音频文件
    xhr.open('GET', url, true);
    xhr.responseType = 'arraybuffer';
    xhr.onload = function(e) { //下载完成
        initSound(this.response,id);
    };
    xhr.send();
}


    function audioAutoPlay(id){
        loadAudioFile(id);
    }
    function muiscready(){
          audioAutoPlay('message1');
          audioAutoPlay('message2');
          audioAutoPlay('message3');
          audioAutoPlay('message4');
          audioAutoPlay('message5');
          audioAutoPlay('message6');
          audioAutoPlay('message7');
          audioAutoPlay('message8');
          audioAutoPlay('message9');
          audioAutoPlay('message10');
          audioAutoPlay('message11');
          audioAutoPlay('background');

          audioAutoPlay('2fen');
          audioAutoPlay('4fen');
          audioAutoPlay('5fen');
          audioAutoPlay('8fen');
          audioAutoPlay('10fen');
          audioAutoPlay('16fen');
          audioAutoPlay('20fen');
          audioAutoPlay('40fen');
          audioAutoPlay('25fen');
          audioAutoPlay('50fen');
          audioAutoPlay('kaipai');
          audioAutoPlay('fapai');
          audioAutoPlay('shandian');
          audioAutoPlay('lookmp3');
          audioAutoPlay('menpai');
          audioAutoPlay('qipaimp3');
            audioAutoPlay('winmp3');

           if(bgmp3open==1){
          setTimeout(function(){
              mp3pause('background');
              mp3play('background');
          },2000)
          }
           if(bgmp3open==2){
               mp3pause('background');
            }

    }
function onBridgeReady(){
 WeixinJSBridge.invoke('getNetworkType',{},
    function(e){
        //WeixinJSBridge.log(e.err_msg);
         mp3play('1miao');  
      });
}

if (typeof WeixinJSBridge == "undefined"){
    if( document.addEventListener ){
        document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false);
    }else if (document.attachEvent){
        document.attachEvent('WeixinJSBridgeReady', onBridgeReady); 
        document.attachEvent('onWeixinJSBridgeReady', onBridgeReady);
    }
}else{
    onBridgeReady();
}


muiscready();

  $.fn.BindClipboard = $.fn.BindClipboard || function(toolTip, target) {
		var options = {};
		if(target) {
			options = {
				"target": function(trigger) {
					console.log(trigger);
					return $(target)[0];
				}
			};
		}
		new ClipboardJS($(this)[0], options).on("success", function(e) {
			$(toolTip).fadeIn().fadeOut(3000);
			console.log(e);
		}).on("error", function(e) {
			$(toolTip).hide();
			console.log(e);
		});
	}
	// 调用clipboard
	$(".copyUrl").BindClipboard(".attention", "#room_str");  
</script>

 </body>
         <script>
setTimeout("jzy.style.display='none'",100);
</script>
   	<div style="position: fixed;width:100%;height:100%;top:0;left:0;background: #000;z-index:9999999;" id="jzy">
		<div class="load4">
			<div class="loader">Loading...</div>
		</div>
		<div style="color: #999;position: absolute;bottom: 3vh;text-align: center;font-size: 3vw;width: 100%;">
			抵制不良游戏 拒绝盗版游戏 注意自我保护 谨防上当受骗<br>
			适度游戏益脑 沉迷游戏伤身 合理安排时间 享受健康生活
		</div>
	</div>
</html>
<!--吾爱永久QQ：8790766-->
<!--吾爱微信：8790766-->